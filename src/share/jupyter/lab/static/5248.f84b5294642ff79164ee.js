(self["webpackChunk_jupyterlab_application_top"]=self["webpackChunk_jupyterlab_application_top"]||[]).push([[5248],{25248:(e,t,a)=>{"use strict";a.r(t);a.d(t,{default:()=>V,toggleHeader:()=>B});var n=a(20650);var o=a(26825);var s=a(83875);var r=a(68992);var i=a(53371);var c=a(1612);var l=a(92481);var d=a(9727);var u=a(76487);var p=a(87598);var m=a(62867);var h=a(97745);var g=a(61389);var f;(function(e){e.activate="apputils:activate-command-palette"})(f||(f={}));const v="@jupyterlab/apputils-extension:palette";class y{constructor(e,t){this.translator=t||c.nullTranslator;const a=this.translator.load("jupyterlab");this._palette=e;this._palette.title.label="";this._palette.title.caption=a.__("Command Palette")}set placeholder(e){this._palette.inputNode.placeholder=e}get placeholder(){return this._palette.inputNode.placeholder}activate(){this._palette.activate()}addItem(e){const t=this._palette.addItem(e);return new u.DisposableDelegate((()=>{this._palette.removeItem(t)}))}}(function(e){function t(t,a,n){const{commands:s,shell:r}=t;const i=a.load("jupyterlab");const c=b.createPalette(t,a);const l=new o.ModalCommandPalette({commandPalette:c});let d=false;c.node.setAttribute("role","region");c.node.setAttribute("aria-label",i.__("Command Palette Section"));r.add(c,"left",{rank:300});if(n){const e=n.load(v);const a=e=>{const t=e.get("modal").composite;if(d&&!t){c.parent=null;l.detach();r.add(c,"left",{rank:300})}else if(!d&&t){c.parent=null;l.palette=c;c.show();l.attach()}d=t};Promise.all([e,t.restored]).then((([e])=>{a(e);e.changed.connect((e=>{a(e)}))})).catch((e=>{console.error(e.message)}))}const u=()=>{const e=(0,m.find)(t.commands.keyBindings,(e=>e.command===f.activate));if(e){const t=h.CommandRegistry.formatKeystroke(e.keys.join(" "));c.title.caption=i.__("Commands (%1)",t)}else{c.title.caption=i.__("Commands")}};u();t.commands.keyBindingChanged.connect((()=>{u()}));s.addCommand(f.activate,{execute:()=>{if(d){l.activate()}else{r.activateById(c.id)}},label:i.__("Activate Command Palette")});c.inputNode.placeholder=i.__("SEARCH");return new e(c,a)}e.activate=t;function a(e,t,a){const n=b.createPalette(e,a);t.add(n,"command-palette")}e.restore=a})(y||(y={}));var b;(function(e){let t;function a(e,a){if(!t){t=new g.CommandPalette({commands:e.commands,renderer:l.CommandPaletteSvg.defaultRenderer});t.id="command-palette";t.title.icon=l.paletteIcon;const n=a.load("jupyterlab");t.title.label=n.__("Commands")}return t}e.createPalette=a})(b||(b={}));class _ extends i.DataConnector{constructor(e){super();this._throttlers=Object.create(null);this._connector=e}fetch(e){const t=this._throttlers;if(!(e in t)){t[e]=new p.Throttler((()=>this._connector.fetch(e)),100)}return t[e].invoke()}async list(e="all"){const{isDeferred:t,isDisabled:a}=s.PageConfig.Extension;const{ids:n,values:o}=await this._connector.list();if(e==="all"){return{ids:n,values:o}}return{ids:n.filter((e=>!t(e)&&!a(e))),values:o.filter((({id:e})=>!t(e)&&!a(e)))}}async save(e,t){await this._connector.save(e,t)}}const w={id:"@jupyterlab/apputils-extension:settings",activate:async e=>{const{isDisabled:t}=s.PageConfig.Extension;const a=new _(e.serviceManager.settings);const n=new r.SettingRegistry({connector:a,plugins:(await a.list("active")).values});void e.restored.then((async()=>{const e=await a.list("all");e.ids.forEach((async(a,o)=>{if(t(a)||a in n.plugins){return}try{await n.load(a)}catch(s){console.warn(`Settings failed to load for (${a})`,s);if(e.values[o].schema["jupyter.lab.transform"]){console.warn(`This may happen if {autoStart: false} in (${a}) `+`or if it is one of the deferredExtensions in page config.`)}}}))}));return n},autoStart:true,provides:r.ISettingRegistry};var S=a(38961);var k;(function(e){e.changeTheme="apputils:change-theme";e.themeScrollbars="apputils:theme-scrollbars";e.changeFont="apputils:change-font";e.incrFontSize="apputils:incr-font-size";e.decrFontSize="apputils:decr-font-size"})(k||(k={}));const C={id:"@jupyterlab/apputils-extension:themes",requires:[r.ISettingRegistry,n.JupyterFrontEnd.IPaths,c.ITranslator],optional:[o.ISplashScreen],activate:(e,t,a,n,r)=>{const i=n.load("jupyterlab");const c=e.shell;const l=e.commands;const d=s.URLExt.join(s.PageConfig.getBaseUrl(),a.urls.themes);const u=C.id;const p=new o.ThemeManager({key:u,host:c,settings:t,splash:r!==null&&r!==void 0?r:undefined,url:d});let m;p.themeChanged.connect(((e,t)=>{m=t.newValue;document.body.dataset.jpThemeLight=String(p.isLight(m));document.body.dataset.jpThemeName=m;if(document.body.dataset.jpThemeScrollbars!==String(p.themeScrollbars(m))){document.body.dataset.jpThemeScrollbars=String(p.themeScrollbars(m))}l.notifyCommandChanged(k.changeTheme)}));l.addCommand(k.changeTheme,{label:e=>{const t=e["theme"];const a=p.getDisplayName(t);return e["isPalette"]?i.__("Use Theme: %1",a):a},isToggled:e=>e["theme"]===m,execute:e=>{const t=e["theme"];if(t===p.theme){return}return p.setTheme(t)}});l.addCommand(k.themeScrollbars,{label:i.__("Theme Scrollbars"),isToggled:()=>p.isToggledThemeScrollbars(),execute:()=>p.toggleThemeScrollbars()});l.addCommand(k.changeFont,{label:e=>e["enabled"]?`${e["font"]}`:i.__("waiting for fonts"),isEnabled:e=>e["enabled"],isToggled:e=>p.getCSS(e["key"])===e["font"],execute:e=>p.setCSSOverride(e["key"],e["font"])});l.addCommand(k.incrFontSize,{label:e=>{switch(e.key){case"code-font-size":return i.__("Increase Code Font Size");case"content-font-size1":return i.__("Increase Content Font Size");case"ui-font-size1":return i.__("Increase UI Font Size");default:return i.__("Increase Font Size")}},execute:e=>p.incrFontSize(e["key"])});l.addCommand(k.decrFontSize,{label:e=>{switch(e.key){case"code-font-size":return i.__("Decrease Code Font Size");case"content-font-size1":return i.__("Decrease Content Font Size");case"ui-font-size1":return i.__("Decrease UI Font Size");default:return i.__("Decrease Font Size")}},execute:e=>p.decrFontSize(e["key"])});return p},autoStart:true,provides:o.IThemeManager};const x={id:"@jupyterlab/apputils-extension:themes-palette-menu",requires:[o.IThemeManager,c.ITranslator],optional:[o.ICommandPalette,S.IMainMenu],activate:(e,t,a,n,o)=>{const s=a.load("jupyterlab");if(o){void e.restored.then((()=>{var e;const a=false;const n=(e=o.settingsMenu.items.find((e=>{var t;return e.type==="submenu"&&((t=e.submenu)===null||t===void 0?void 0:t.id)==="jp-mainmenu-settings-apputilstheme"})))===null||e===void 0?void 0:e.submenu;if(n){t.themes.forEach(((e,t)=>{n.insertItem(t,{command:k.changeTheme,args:{isPalette:a,theme:e}})}))}}))}if(n){void e.restored.then((()=>{const e=s.__("Theme");const a=k.changeTheme;const o=true;t.themes.forEach((t=>{n.addItem({command:a,args:{isPalette:o,theme:t},category:e})}));n.addItem({command:k.themeScrollbars,category:e});n.addItem({command:k.incrFontSize,args:{key:"code-font-size"},category:e});n.addItem({command:k.decrFontSize,args:{key:"code-font-size"},category:e});n.addItem({command:k.incrFontSize,args:{key:"content-font-size1"},category:e});n.addItem({command:k.decrFontSize,args:{key:"content-font-size1"},category:e});n.addItem({command:k.incrFontSize,args:{key:"ui-font-size1"},category:e});n.addItem({command:k.decrFontSize,args:{key:"ui-font-size1"},category:e})}))}},autoStart:true};var I=a(56052);var j=a(23668);var T;(function(e){e.saveWorkspace="workspace-ui:save";e.saveWorkspaceAs="workspace-ui:save-as"})(T||(T={}));const E="jupyterlab-workspace";const F="."+E;const P="workspace-ui:lastSave";const z="jp-JupyterIcon";const W={id:"@jupyterlab/apputils-extension:workspaces",autoStart:true,requires:[j.IFileBrowserFactory,o.IWindowResolver,i.IStateDB,c.ITranslator,n.JupyterFrontEnd.IPaths],optional:[n.IRouter],activate:(e,t,a,n,o,s,r)=>{const i=new R.WorkspaceFactory({workspaces:e.serviceManager.workspaces,router:r,state:n,translator:o,paths:s});const c=o.load("jupyterlab");e.docRegistry.addFileType({name:E,contentType:"file",fileFormat:"text",displayName:c.__("JupyterLab workspace File"),extensions:[F],mimeTypes:["text/json"],iconClass:z});e.docRegistry.addWidgetFactory(i);e.commands.addCommand(T.saveWorkspaceAs,{label:c.__("Save Current Workspace As…"),execute:async()=>{const s=e.serviceManager.workspaces.fetch(a.name);await R.saveAs(t.defaultBrowser,e.serviceManager.contents,s,n,o)}});e.commands.addCommand(T.saveWorkspace,{label:c.__("Save Current Workspace"),execute:async()=>{const{contents:s}=e.serviceManager;const r=e.serviceManager.workspaces.fetch(a.name);const i=await n.fetch(P);if(i===undefined){await R.saveAs(t.defaultBrowser,s,r,n,o)}else{await R.save(i,s,r,n)}}})}};var R;(function(e){async function t(e,t,a,n){let o=e.split("/").pop();if(o!==undefined&&o.includes(".")){o=o.split(".")[0]}else{e=e+F}await n.save(P,e);const s=await a;s.metadata.id=`${o}`;await t.save(e,{type:"file",format:"text",content:JSON.stringify(s)})}e.save=t;async function a(e,a,n,o,s){var r;s=s||c.nullTranslator;const l=await o.fetch(P);let d;if(l===undefined){d="new-workspace"}else{d=(r=l.split("/").pop())===null||r===void 0?void 0:r.split(".")[0]}const u=e.model.path+"/"+d+F;const p=await i(u,s);if(p){await t(p,a,n,o)}}e.saveAs=a;class n extends I.ABCWidgetFactory{constructor(e){const t=(e.translator||c.nullTranslator).load("jupyterlab");super({name:t.__("Workspace loader"),fileTypes:[E],defaultFor:[E],readOnly:true});this._application=e.paths.urls.app;this._router=e.router;this._state=e.state;this._workspaces=e.workspaces}createNewWidget(e){void e.ready.then((async()=>{const t=e.model;const a=t.toJSON();const n=e.path;const o=a.metadata.id;await this._workspaces.save(o,a);await this._state.save(P,n);const r=s.URLExt.join(this._application,"workspaces",o);if(this._router){this._router.navigate(r,{hard:true})}else{document.location.href=r}}));return r(e)}}e.WorkspaceFactory=n;function r(e){const t=new I.DocumentWidget({content:new g.Widget,context:e});t.content.dispose();return t}async function i(e,t){t=t||c.nullTranslator;const a=t.load("jupyterlab");const n=o.Dialog.okButton({label:a.__("Save")});const s=await(0,o.showDialog)({title:a.__("Save Current Workspace As…"),body:new l(e),buttons:[o.Dialog.cancelButton({label:a.__("Cancel")}),n]});if(s.button.label===a.__("Save")){return s.value}else{return null}}class l extends g.Widget{constructor(e){super({node:d(e)})}getValue(){return this.node.value}}function d(e){const t=document.createElement("input");t.value=e;return t}})(R||(R={}));const D=12e3;var A;(function(e){e.loadState="apputils:load-statedb";e.print="apputils:print";e.reset="apputils:reset";e.resetOnLoad="apputils:reset-on-load";e.runFirstEnabled="apputils:run-first-enabled";e.runAllEnabled="apputils:run-all-enabled";e.toggleHeader="apputils:toggle-header"})(A||(A={}));const L={id:"@jupyterlab/apputils-extension:palette",autoStart:true,requires:[c.ITranslator],provides:o.ICommandPalette,optional:[r.ISettingRegistry],activate:(e,t,a)=>y.activate(e,t,a)};const $={id:"@jupyterlab/apputils-extension:palette-restorer",autoStart:true,requires:[n.ILayoutRestorer,c.ITranslator],activate:(e,t,a)=>{y.restore(e,t,a)}};const M={id:"@jupyterlab/apputils-extension:resolver",autoStart:true,provides:o.IWindowResolver,requires:[n.JupyterFrontEnd.IPaths,n.IRouter],activate:async(e,t,a)=>{const{hash:n,search:r}=a.current;const i=s.URLExt.queryStringToObject(r||"");const c=new o.WindowResolver;const l=s.PageConfig.getOption("workspace");const d=s.PageConfig.getOption("treePath");const u=s.PageConfig.getOption("mode")==="multiple-document"?"lab":"doc";const p=l?l:s.PageConfig.defaultWorkspace;const m=d?s.URLExt.join("tree",d):"";try{await c.resolve(p);return c}catch(h){return new Promise((()=>{const{base:e}=t.urls;const o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";const r=o[Math.floor(Math.random()*o.length)];let c=s.URLExt.join(e,u,"workspaces",`auto-${r}`);c=m?s.URLExt.join(c,s.URLExt.encodeParts(m)):c;i["reset"]="";const l=c+s.URLExt.objectToQueryString(i)+(n||"");a.navigate(l,{hard:true})}))}}};const O={id:"@jupyterlab/apputils-extension:splash",autoStart:true,requires:[c.ITranslator],provides:o.ISplashScreen,activate:(e,t)=>{const a=t.load("jupyterlab");const{commands:n,restored:s}=e;const r=document.createElement("div");const i=document.createElement("div");const c=document.createElement("div");r.id="jupyterlab-splash";i.id="galaxy";c.id="main-logo";l.jupyterFaviconIcon.element({container:c,stylesheet:"splash"});i.appendChild(c);["1","2","3"].forEach((e=>{const t=document.createElement("div");const a=document.createElement("div");t.id=`moon${e}`;t.className="moon orbit";a.id=`planet${e}`;a.className="planet";t.appendChild(a);i.appendChild(t)}));r.appendChild(i);let d;const m=new p.Throttler((async()=>{if(d){return}d=new o.Dialog({title:a.__("Loading…"),body:a.__(`The loading screen is taking a long time.\nWould you like to clear the workspace or keep waiting?`),buttons:[o.Dialog.cancelButton({label:a.__("Keep Waiting")}),o.Dialog.warnButton({label:a.__("Clear Workspace")})]});try{const e=await d.launch();d.dispose();d=null;if(e.button.accept&&n.hasCommand(A.reset)){return n.execute(A.reset)}requestAnimationFrame((()=>{void m.invoke().catch((e=>undefined))}))}catch(e){}}),{limit:D,edge:"trailing"});let h=0;return{show:(e=true)=>{r.classList.remove("splash-fade");r.classList.toggle("light",e);r.classList.toggle("dark",!e);h++;document.body.appendChild(r);void m.invoke().catch((e=>undefined));return new u.DisposableDelegate((async()=>{await s;if(--h===0){void m.stop();if(d){d.dispose();d=null}r.classList.add("splash-fade");window.setTimeout((()=>{document.body.removeChild(r)}),200)}}))}}}};const U={id:"@jupyterlab/apputils-extension:print",autoStart:true,requires:[c.ITranslator],activate:(e,t)=>{const a=t.load("jupyterlab");e.commands.addCommand(A.print,{label:a.__("Print…"),isEnabled:()=>{const t=e.shell.currentWidget;return o.Printing.getPrintFunction(t)!==null},execute:async()=>{const t=e.shell.currentWidget;const a=o.Printing.getPrintFunction(t);if(a){await a()}}})}};const B={id:"@jupyterlab/apputils-extension:toggle-header",autoStart:true,requires:[c.ITranslator],optional:[o.ICommandPalette],activate:(e,t,a)=>{const n=t.load("jupyterlab");const s=n.__("Main Area");e.commands.addCommand(A.toggleHeader,{label:n.__("Show Header Above Content"),isEnabled:()=>e.shell.currentWidget instanceof o.MainAreaWidget&&e.shell.currentWidget.contentHeader.widgets.length>0,isToggled:()=>{const t=e.shell.currentWidget;return t instanceof o.MainAreaWidget?!t.contentHeader.isHidden:false},execute:async()=>{const t=e.shell.currentWidget;if(t instanceof o.MainAreaWidget){t.contentHeader.setHidden(!t.contentHeader.isHidden)}}});if(a){a.addItem({command:A.toggleHeader,category:s})}}};async function q(e,t,a){var n,o;const r=await t.toJSON();let i=(o=(n=r["layout-restorer:data"])===null||n===void 0?void 0:n.main)===null||o===void 0?void 0:o.current;if(i===undefined){document.title=`${s.PageConfig.getOption("appName")||"JupyterLab"}${e.startsWith("auto-")?` (${e})`:``}`}else{let t=s.PathExt.basename(i.split(":")[1]);t=t.length>15?t.slice(0,12).concat(`…`):t;const n=Object.keys(r).filter((e=>e.startsWith("notebook")||e.startsWith("editor"))).length;if(e.startsWith("auto-")){document.title=`${t} (${e}${n>1?` : ${n}`:``}) - ${a}`}else{document.title=`${t}${n>1?` (${n})`:``} - ${a}`}}}const N={id:"@jupyterlab/apputils-extension:state",autoStart:true,provides:i.IStateDB,requires:[n.JupyterFrontEnd.IPaths,n.IRouter,c.ITranslator],optional:[o.IWindowResolver],activate:(e,t,a,n,o)=>{const r=n.load("jupyterlab");if(o===null){return new i.StateDB}let c=false;const{commands:l,name:u,serviceManager:m}=e;const{workspaces:h}=m;const g=o.name;const f=new d.PromiseDelegate;const v=new i.StateDB({transform:f.promise});const y=new p.Debouncer((async()=>{const e=g;const t={id:e};const a=await v.toJSON();await h.save(e,{data:a,metadata:t})}));v.changed.connect((()=>void y.invoke()),v);v.changed.connect((()=>q(g,v,u)));l.addCommand(A.loadState,{execute:async e=>{if(c){return}const{hash:n,path:o,search:r}=e;const{urls:i}=t;const l=s.URLExt.queryStringToObject(r||"");const d=typeof l["clone"]==="string"?l["clone"]===""?s.URLExt.join(i.base,i.app):s.URLExt.join(i.base,i.app,"workspaces",l["clone"]):null;const u=d||g||null;if(u===null){console.error(`${A.loadState} cannot load null workspace.`);return}try{const e=await h.fetch(u);if(!c){c=true;f.resolve({type:"overwrite",contents:e.data})}}catch({message:p}){console.warn(`Fetching workspace "${g}" failed.`,p);if(!c){c=true;f.resolve({type:"cancel",contents:null})}}if(u===d){delete l["clone"];const e=o+s.URLExt.objectToQueryString(l)+n;const t=y.invoke().then((()=>a.stop));void t.then((()=>{a.navigate(e)}));return t}await y.invoke()}});l.addCommand(A.reset,{label:r.__("Reset Application State"),execute:async({reload:e})=>{await v.clear();await y.invoke();if(e){a.reload()}}});l.addCommand(A.resetOnLoad,{execute:e=>{const{hash:t,path:n,search:o}=e;const r=s.URLExt.queryStringToObject(o||"");const i="reset"in r;const l="clone"in r;if(!i){return}if(c){return a.reload()}c=true;f.resolve({type:"clear",contents:null});delete r["reset"];const d=n+s.URLExt.objectToQueryString(r)+t;const u=v.clear().then((()=>y.invoke()));if(l){void u.then((()=>{a.navigate(d,{hard:true})}))}else{void u.then((()=>{a.navigate(d)}))}return u}});a.register({command:A.loadState,pattern:/.?/,rank:30});a.register({command:A.resetOnLoad,pattern:/(\?reset|\&reset)($|&)/,rank:20});return v}};const H={id:"@jupyterlab/apputils-extension:sessionDialogs",provides:o.ISessionContextDialogs,autoStart:true,activate:()=>o.sessionContextDialogs};const J={id:"@jupyterlab/apputils-extension:utilityCommands",requires:[c.ITranslator],autoStart:true,activate:(e,t)=>{const a=t.load("jupyterlab");const{commands:n}=e;n.addCommand(A.runFirstEnabled,{label:a.__("Run First Enabled Command"),execute:t=>{const a=t.commands;const n=t.args;const o=Array.isArray(t);for(let s=0;s<a.length;s++){const t=a[s];const r=o?n[s]:n;if(e.commands.isEnabled(t,r)){return e.commands.execute(t,r)}}}});n.addCommand(A.runAllEnabled,{label:a.__("Run All Enabled Commands Passed as Args"),execute:async t=>{const a=t.commands;const n=t.args;const o=Array.isArray(t);const s=t.errorIfNotEnabled;for(let r=0;r<a.length;r++){const t=a[r];const i=o?n[r]:n;if(e.commands.isEnabled(t,i)){await e.commands.execute(t,i)}else{if(s){console.error(`${t} is not enabled.`)}}}}})}};const Q={id:"@jupyter/apputils-extension:sanitizer",autoStart:true,provides:o.ISanitizer,activate:()=>o.defaultSanitizer};const K=[L,$,U,M,Q,w,N,O,H,C,x,B,J,W];const V=K}}]);