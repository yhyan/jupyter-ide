(self["webpackChunk_jupyterlab_application_top"]=self["webpackChunk_jupyterlab_application_top"]||[]).push([[7271,1264],{71264:(e,t,o)=>{"use strict";o.r(t);o.d(t,{default:()=>y});var n=o(49069);var r=o.n(n);var i=o(83875);var s=o.n(i);var a=o(1166);var c=o.n(a);var d=o(3860);var l=o.n(d);var u=o(72805);var v=o.n(u);var m=o(8913);var p=o.n(m);var f=o(62867);var h=o.n(f);var k=o(61389);var g=o.n(k);var C;(function(e){e.dismiss="tooltip:dismiss";e.launchConsole="tooltip:launch-console";e.launchNotebook="tooltip:launch-notebook";e.launchFile="tooltip:launch-file"})(C||(C={}));const b={id:"@jupyterlab/tooltip-extension:manager",autoStart:true,provides:m.ITooltipManager,activate:e=>{let t=null;e.commands.addCommand(C.dismiss,{execute:()=>{if(t){t.dispose();t=null}}});return{invoke(e){const o=0;const{anchor:n,editor:r,kernel:i,rendermime:s}=e;if(t){t.dispose();t=null}return _.fetch({detail:o,editor:r,kernel:i}).then((e=>{t=new m.Tooltip({anchor:n,bundle:e,editor:r,rendermime:s});k.Widget.attach(t,document.body)})).catch((()=>{}))}}}};const x={id:"@jupyterlab/tooltip-extension:consoles",autoStart:true,requires:[m.ITooltipManager,n.IConsoleTracker],activate:(e,t,o)=>{e.commands.addCommand(C.launchConsole,{execute:()=>{var e,n;const r=o.currentWidget;if(!r){return}const i=r.console;const s=(e=i.promptCell)===null||e===void 0?void 0:e.editor;const a=(n=i.sessionContext.session)===null||n===void 0?void 0:n.kernel;const c=i.rendermime;if(!!s&&!!a&&!!c){return t.invoke({anchor:i,editor:s,kernel:a,rendermime:c})}}})}};const I={id:"@jupyterlab/tooltip-extension:notebooks",autoStart:true,requires:[m.ITooltipManager,d.INotebookTracker],activate:(e,t,o)=>{e.commands.addCommand(C.launchNotebook,{execute:()=>{var e,n;const r=o.currentWidget;if(!r){return}const i=r.content;const s=(e=i.activeCell)===null||e===void 0?void 0:e.editor;const a=(n=r.sessionContext.session)===null||n===void 0?void 0:n.kernel;const c=i.rendermime;if(!!s&&!!a&&!!c){return t.invoke({anchor:i,editor:s,kernel:a,rendermime:c})}}})}};const T={id:"@jupyterlab/tooltip-extension:files",autoStart:true,requires:[m.ITooltipManager,a.IEditorTracker,u.IRenderMimeRegistry],activate:(e,t,o,n)=>{const r={};const i=e.serviceManager.sessions;const s=(e,t)=>{o.forEach((e=>{const o=(0,f.find)(t,(t=>e.context.path===t.path));if(o){const t=r[e.id];if(t&&t.id===o.id){return}if(t){delete r[e.id];t.dispose()}const n=i.connectTo({model:o});r[e.id]=n}else{const t=r[e.id];if(t){t.dispose();delete r[e.id]}}}))};s(i,(0,f.toArray)(i.running()));i.runningChanged.connect(s);o.widgetAdded.connect(((e,t)=>{t.disposed.connect((e=>{const t=r[e.id];if(t){t.dispose();delete r[e.id]}}))}));e.commands.addCommand(C.launchFile,{execute:async()=>{const e=o.currentWidget;const i=e&&r[e.id]&&r[e.id].kernel;if(!i){return}const s=e.content;const a=s===null||s===void 0?void 0:s.editor;if(!!a&&!!i&&!!n){return t.invoke({anchor:s,editor:a,kernel:i,rendermime:n})}}})}};const j=[b,x,I,T];const y=j;var _;(function(e){let t=0;function o(e){const{detail:o,editor:n,kernel:r}=e;const s=n.model.value.text;const a=n.getCursorPosition();const c=i.Text.jsIndexToCharIndex(n.getOffsetAt(a),s);if(!s||!r){return Promise.reject(void 0)}const d={code:s,cursor_pos:c,detail_level:o||0};const l=++t;return r.requestInspect(d).then((e=>{const o=e.content;if(l!==t){return Promise.reject(void 0)}if(o.status!=="ok"||!o.found){return Promise.reject(void 0)}return Promise.resolve(o.data)}))}e.fetch=o})(_||(_={}))}}]);