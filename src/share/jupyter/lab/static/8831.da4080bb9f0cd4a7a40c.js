(self["webpackChunk_jupyterlab_application_top"]=self["webpackChunk_jupyterlab_application_top"]||[]).push([[8831],{48831:(e,t,o)=>{"use strict";o.r(t);o.d(t,{fileUploadStatus:()=>M,launcherToolbarButton:()=>O,default:()=>z});var r=o(20650);var n=o.n(r);var a=o(26825);var i=o.n(a);var s=o(83875);var c=o.n(s);var l=o(54005);var d=o.n(l);var u=o(23668);var m=o.n(u);var p=o(68992);var w=o.n(p);var f=o(53371);var h=o.n(f);var g=o(10314);var b=o.n(g);var y=o(1612);var v=o.n(y);var I=o(92481);var _=o.n(I);var C=o(62867);var F=o.n(C);var x=o(97745);var B=o.n(x);var T;(function(e){e.copy="filebrowser:copy";e.copyDownloadLink="filebrowser:copy-download-link";e.createLauncher="filebrowser:create-main-launcher";e.cut="filebrowser:cut";e.del="filebrowser:delete";e.download="filebrowser:download";e.duplicate="filebrowser:duplicate";e.hideBrowser="filebrowser:hide-main";e.goToPath="filebrowser:go-to-path";e.goUp="filebrowser:go-up";e.openPath="filebrowser:open-path";e.open="filebrowser:open";e.openBrowserTab="filebrowser:open-browser-tab";e.paste="filebrowser:paste";e.createNewDirectory="filebrowser:create-new-directory";e.createNewFile="filebrowser:create-new-file";e.createNewMarkdownFile="filebrowser:create-new-markdown-file";e.rename="filebrowser:rename";e.copyShareableLink="filebrowser:share-main";e.copyPath="filebrowser:copy-path";e.showBrowser="filebrowser:activate";e.shutdown="filebrowser:shutdown";e.toggleBrowser="filebrowser:toggle-main";e.toggleNavigateToCurrentDirectory="filebrowser:toggle-navigate-to-current-directory";e.toggleLastModified="filebrowser:toggle-last-modified";e.search="filebrowser:search";e.toggleHiddenFiles="filebrowser:toggle-hidden-files"})(T||(T={}));const P="filebrowser";const k={id:"@jupyterlab/filebrowser-extension:browser",requires:[u.IFileBrowserFactory,y.ITranslator],optional:[r.ILayoutRestorer,p.ISettingRegistry,r.ITreePathUpdater,a.ICommandPalette],autoStart:true,activate:async(e,t,o,r,n,a,i)=>{const c=o.load("jupyterlab");const l=t.defaultBrowser;if(r){r.add(l,P)}const d=s.PageConfig.getOption("preferredPath");if(d){await l.model.cd(d)}H(e,t,o,n,i);const u=()=>{const t=(0,C.find)(e.commands.keyBindings,(e=>e.command===T.toggleBrowser));if(t){const e=x.CommandRegistry.formatKeystroke(t.keys.join(" "));l.title.caption=c.__("File Browser (%1)",e)}else{l.title.caption=c.__("File Browser")}};u();e.commands.keyBindingChanged.connect((()=>{u()}));void Promise.all([e.restored,l.model.restored]).then((()=>{if(a){l.model.pathChanged.connect(((e,t)=>{a(t.newValue)}))}let e=false;let t=true;let o=true;let r=false;if(n){void n.load("@jupyterlab/filebrowser-extension:browser").then((n=>{n.changed.connect((t=>{e=t.get("navigateToCurrentDirectory").composite;l.navigateToCurrentDirectory=e}));e=n.get("navigateToCurrentDirectory").composite;l.navigateToCurrentDirectory=e;n.changed.connect((e=>{t=e.get("showLastModifiedColumn").composite;l.showLastModifiedColumn=t}));t=n.get("showLastModifiedColumn").composite;l.showLastModifiedColumn=t;n.changed.connect((e=>{o=e.get("useFuzzyFilter").composite;l.useFuzzyFilter=o}));o=n.get("useFuzzyFilter").composite;l.useFuzzyFilter=o;n.changed.connect((e=>{r=e.get("showHiddenFiles").composite;l.showHiddenFiles=r}));r=n.get("showHiddenFiles").composite;l.showHiddenFiles=r}))}}))}};const S={id:"@jupyterlab/filebrowser-extension:factory",provides:u.IFileBrowserFactory,requires:[l.IDocumentManager,y.ITranslator],optional:[f.IStateDB,r.IRouter,r.JupyterFrontEnd.ITreeResolver],activate:async(e,t,o,r,n,i)=>{const{commands:s}=e;const c=new a.WidgetTracker({namespace:P});const l=(e,n={})=>{var a;const i=new u.FilterFileBrowserModel({translator:o,auto:(a=n.auto)!==null&&a!==void 0?a:true,manager:t,driveName:n.driveName||"",refreshInterval:n.refreshInterval,state:n.state===null?undefined:n.state||r||undefined});const s=n.restore;const l=new u.FileBrowser({id:e,model:i,restore:s,translator:o});void c.add(l);return l};const d=l("filebrowser",{auto:false,restore:false});void $.restoreBrowser(d,s,n,i);return{createFileBrowser:l,defaultBrowser:d,tracker:c}}};const W={id:"@jupyterlab/filebrowser-extension:download",requires:[u.IFileBrowserFactory,y.ITranslator],autoStart:true,activate:(e,t,o)=>{const r=o.load("jupyterlab");const{commands:n}=e;const{tracker:i}=t;n.addCommand(T.download,{execute:()=>{const e=i.currentWidget;if(e){return e.download()}},icon:I.downloadIcon.bindprops({stylesheet:"menuItem"}),label:r.__("Download")});n.addCommand(T.copyDownloadLink,{execute:()=>{const e=i.currentWidget;if(!e){return}return e.model.manager.services.contents.getDownloadUrl(e.selectedItems().next().path).then((e=>{a.Clipboard.copyToSystem(e)}))},icon:I.copyIcon.bindprops({stylesheet:"menuItem"}),label:r.__("Copy Download Link"),mnemonic:0})}};const L={id:"@jupyterlab/filebrowser-extension:widget",requires:[l.IDocumentManager,u.IFileBrowserFactory,y.ITranslator,r.ILabShell],autoStart:true,activate:(e,t,o,r,n)=>{const{commands:a}=e;const{defaultBrowser:i,tracker:s}=o;const c=r.load("jupyterlab");i.node.setAttribute("role","region");i.node.setAttribute("aria-label",c.__("File Browser Section"));i.title.icon=I.folderIcon;n.add(i,"left",{rank:100});a.addCommand(T.showBrowser,{execute:e=>{const t=e.path||"";const r=$.getBrowserForPath(t,o);if(!r){return}if(i===r){n.activateById(i.id);return}else{const e=["left","right"];for(const t of e){const e=n.widgets(t);let o=e.next();while(o){if(o.contains(r)){n.activateById(o.id);return}o=e.next()}}}}});a.addCommand(T.hideBrowser,{execute:()=>{const e=s.currentWidget;if(e&&!e.isHidden){n.collapseLeft()}}});void n.restored.then((e=>{if(e.fresh&&n.mode!=="single-document"){void a.execute(T.showBrowser,void 0)}}));void Promise.all([e.restored,i.model.restored]).then((()=>{function e(){if(n.isEmpty("main")&&a.hasCommand("launcher:create")){void $.createLauncher(a,i)}}n.layoutModified.connect((()=>{e()}));n.currentChanged.connect((async(e,n)=>{if(i.navigateToCurrentDirectory&&n.newValue){const{newValue:e}=n;const i=t.contextForWidget(e);if(i){const{path:e}=i;try{await $.navigateToPath(e,o,r)}catch(a){console.warn(`${T.goToPath} failed to open: ${e}`,a)}}}}));e()}))}};const j={id:"@jupyterlab/filebrowser-extension:share-file",requires:[u.IFileBrowserFactory,y.ITranslator],autoStart:true,activate:(e,t,o)=>{const r=o.load("jupyterlab");const{commands:n}=e;const{tracker:i}=t;n.addCommand(T.copyShareableLink,{execute:()=>{const e=i.currentWidget;const t=e===null||e===void 0?void 0:e.selectedItems().next();if(!t){return}a.Clipboard.copyToSystem(s.PageConfig.getUrl({workspace:s.PageConfig.defaultWorkspace,treePath:t.path,toShare:true}))},isVisible:()=>!!i.currentWidget&&(0,C.toArray)(i.currentWidget.selectedItems()).length===1,icon:I.linkIcon.bindprops({stylesheet:"menuItem"}),label:r.__("Copy Shareable Link")})}};const D={id:"@jupyterlab/filebrowser-extension:open-with",requires:[u.IFileBrowserFactory],autoStart:true,activate:(e,t)=>{const{docRegistry:o}=e;const{tracker:r}=t;function n(e){var t,n;const a=(n=(t=e.menu.items.find((e=>{var t;return e.type==="submenu"&&((t=e.submenu)===null||t===void 0?void 0:t.id)==="jp-contextmenu-open-with"})))===null||t===void 0?void 0:t.submenu)!==null&&n!==void 0?n:null;if(!a){return}a.clearItems();const i=r.currentWidget?$.OpenWith.intersection((0,C.map)(r.currentWidget.selectedItems(),(e=>$.OpenWith.getFactories(o,e)))):new Set;i.forEach((e=>{a.addItem({args:{factory:e},command:T.open})}))}e.contextMenu.opened.connect(n)}};const N={id:"@jupyterlab/filebrowser-extension:open-browser-tab",requires:[u.IFileBrowserFactory,y.ITranslator],autoStart:true,activate:(e,t,o)=>{const{commands:r}=e;const n=o.load("jupyterlab");const{tracker:a}=t;r.addCommand(T.openBrowserTab,{execute:()=>{const e=a.currentWidget;if(!e){return}return Promise.all((0,C.toArray)((0,C.map)(e.selectedItems(),(e=>r.execute("docmanager:open-browser-tab",{path:e.path})))))},icon:I.addIcon.bindprops({stylesheet:"menuItem"}),label:n.__("Open in New Browser Tab"),mnemonic:0})}};const M={id:"@jupyterlab/filebrowser-extension:file-upload-status",autoStart:true,requires:[u.IFileBrowserFactory,y.ITranslator],optional:[g.IStatusBar],activate:(e,t,o,r)=>{if(!r){return}const n=new u.FileUploadStatus({tracker:t.tracker,translator:o});r.registerStatusItem("@jupyterlab/filebrowser-extension:file-upload-status",{item:n,align:"middle",isActive:()=>!!n.model&&n.model.items.length>0,activeStateChanged:n.model.stateChanged})}};const O={id:"@jupyterlab/filebrowser-extension:launcher-toolbar-button",autoStart:true,requires:[u.IFileBrowserFactory,y.ITranslator],activate:(e,t,o)=>{const{commands:r}=e;const n=o.load("jupyterlab");const{defaultBrowser:i}=t;const s=new a.ToolbarButton({icon:I.addIcon,onClick:()=>{if(r.hasCommand("launcher:create")){return $.createLauncher(r,i)}},tooltip:n.__("New Launcher"),actualOnClick:true});i.toolbar.insertItem(0,"launch",s)}};function H(e,t,o,r,n){const i=o.load("jupyterlab");const{docRegistry:c,commands:l}=e;const{defaultBrowser:d,tracker:u}=t;l.addCommand(T.del,{execute:()=>{const e=u.currentWidget;if(e){return e.delete()}},icon:I.closeIcon.bindprops({stylesheet:"menuItem"}),label:i.__("Delete"),mnemonic:0});l.addCommand(T.copy,{execute:()=>{const e=u.currentWidget;if(e){return e.copy()}},icon:I.copyIcon.bindprops({stylesheet:"menuItem"}),label:i.__("Copy"),mnemonic:0});l.addCommand(T.cut,{execute:()=>{const e=u.currentWidget;if(e){return e.cut()}},icon:I.cutIcon.bindprops({stylesheet:"menuItem"}),label:i.__("Cut")});l.addCommand(T.duplicate,{execute:()=>{const e=u.currentWidget;if(e){return e.duplicate()}},icon:I.copyIcon.bindprops({stylesheet:"menuItem"}),label:i.__("Duplicate")});l.addCommand(T.goToPath,{execute:async e=>{var r;const n=e.path||"";const a=!((r=e===null||e===void 0?void 0:e.dontShowBrowser)!==null&&r!==void 0?r:false);try{const e=await $.navigateToPath(n,t,o);if(e.type!=="directory"&&a){const e=$.getBrowserForPath(n,t);if(e){e.clearSelectedItems();const t=n.split("/");const o=t[t.length-1];if(o){await e.selectItemByName(o)}}}}catch(i){console.warn(`${T.goToPath} failed to go to: ${n}`,i)}if(a){return l.execute(T.showBrowser,{path:n})}}});l.addCommand(T.goUp,{label:"go up",execute:async()=>{const e=$.getBrowserForPath("",t);if(!e){return}const{model:o}=e;await o.restored;if(o.path===o.rootPath){return}try{await o.cd("..")}catch(r){console.warn(`${T.goUp} failed to go to parent directory of ${o.path}`,r)}}});l.addCommand(T.openPath,{label:e=>e.path?i.__("Open %1",e.path):i.__("Open from Pathâ€¦"),caption:e=>e.path?i.__("Open %1",e.path):i.__("Open from path"),execute:async e=>{var o;let r;if(e===null||e===void 0?void 0:e.path){r=e.path}else{r=(o=(await a.InputDialog.getText({label:i.__("Path"),placeholder:"/path/relative/to/jlab/root",title:i.__("Open Path"),okLabel:i.__("Open")})).value)!==null&&o!==void 0?o:undefined}if(!r){return}try{const o=r!=="/"&&r.endsWith("/");if(o){r=r.slice(0,r.length-1)}const n=$.getBrowserForPath(r,t);const{services:a}=n.model.manager;const i=await a.contents.get(r,{content:false});if(o&&i.type!=="directory"){throw new Error(`Path ${r}/ is not a directory`)}await l.execute(T.goToPath,{path:r,dontShowBrowser:e.dontShowBrowser});if(i.type==="directory"){return}return l.execute("docmanager:open",{path:r})}catch(n){if(n.response&&n.response.status===404){n.message=i.__("Could not find path: %1",r)}return(0,a.showErrorMessage)(i.__("Cannot open"),n)}}});if(n){n.addItem({command:T.openPath,category:i.__("File Operations")})}l.addCommand(T.open,{execute:e=>{const t=e["factory"]||void 0;const o=u.currentWidget;if(!o){return}const{contents:r}=o.model.manager.services;return Promise.all((0,C.toArray)((0,C.map)(o.selectedItems(),(e=>{if(e.type==="directory"){const t=r.localPath(e.path);return o.model.cd(`/${t}`)}return l.execute("docmanager:open",{factory:t,path:e.path})}))))},icon:e=>{var t;const o=e["factory"]||void 0;if(o){const e=c.getFileType(o);return(t=e===null||e===void 0?void 0:e.icon)===null||t===void 0?void 0:t.bindprops({stylesheet:"menuItem"})}else{return I.folderIcon.bindprops({stylesheet:"menuItem"})}},label:e=>e["label"]||e["factory"]||i.__("Open"),mnemonic:0});l.addCommand(T.paste,{execute:()=>{const e=u.currentWidget;if(e){return e.paste()}},icon:I.pasteIcon.bindprops({stylesheet:"menuItem"}),label:i.__("Paste"),mnemonic:0});l.addCommand(T.createNewDirectory,{execute:()=>{const e=u.currentWidget;if(e){return e.createNewDirectory()}},icon:I.newFolderIcon.bindprops({stylesheet:"menuItem"}),label:i.__("New Folder")});l.addCommand(T.createNewFile,{execute:()=>{const e=u.currentWidget;if(e){return e.createNewFile({ext:"txt"})}},icon:I.textEditorIcon.bindprops({stylesheet:"menuItem"}),label:i.__("New File")});l.addCommand(T.createNewMarkdownFile,{execute:()=>{const e=u.currentWidget;if(e){return e.createNewFile({ext:"md"})}},icon:I.markdownIcon.bindprops({stylesheet:"menuItem"}),label:i.__("New Markdown File")});l.addCommand(T.rename,{execute:e=>{const t=u.currentWidget;if(t){return t.rename()}},icon:I.editIcon.bindprops({stylesheet:"menuItem"}),label:i.__("Rename"),mnemonic:0});l.addCommand(T.copyPath,{execute:()=>{const e=u.currentWidget;if(!e){return}const t=e.selectedItems().next();if(!t){return}a.Clipboard.copyToSystem(t.path)},isVisible:()=>!!u.currentWidget&&u.currentWidget.selectedItems().next!==undefined,icon:I.fileIcon.bindprops({stylesheet:"menuItem"}),label:i.__("Copy Path")});l.addCommand(T.shutdown,{execute:()=>{const e=u.currentWidget;if(e){return e.shutdownKernels()}},icon:I.stopIcon.bindprops({stylesheet:"menuItem"}),label:i.__("Shut Down Kernel")});l.addCommand(T.toggleBrowser,{execute:()=>{if(d.isHidden){return l.execute(T.showBrowser,void 0)}return l.execute(T.hideBrowser,void 0)}});l.addCommand(T.createLauncher,{label:i.__("New Launcher"),execute:()=>$.createLauncher(l,d)});if(r){l.addCommand(T.toggleNavigateToCurrentDirectory,{label:i.__("Show Active File in File Browser"),isToggled:()=>d.navigateToCurrentDirectory,execute:()=>{const e=!d.navigateToCurrentDirectory;const t="navigateToCurrentDirectory";return r.set("@jupyterlab/filebrowser-extension:browser",t,e).catch((e=>{console.error(`Failed to set navigateToCurrentDirectory setting`)}))}})}l.addCommand(T.toggleLastModified,{label:i.__("Show Last Modified Column"),isToggled:()=>d.showLastModifiedColumn,execute:()=>{const e=!d.showLastModifiedColumn;const t="showLastModifiedColumn";if(r){return r.set("@jupyterlab/filebrowser-extension:browser",t,e).catch((e=>{console.error(`Failed to set showLastModifiedColumn setting`)}))}}});l.addCommand(T.toggleHiddenFiles,{label:i.__("Show Hidden Files"),isToggled:()=>d.showHiddenFiles,isVisible:()=>s.PageConfig.getOption("allow_hidden_files")==="true",execute:()=>{const e=!d.showHiddenFiles;const t="showHiddenFiles";if(r){return r.set("@jupyterlab/filebrowser-extension:browser",t,e).catch((e=>{console.error(`Failed to set showHiddenFiles setting`)}))}}});l.addCommand(T.search,{label:i.__("Search on File Names"),execute:()=>alert("search")});if(n){n.addItem({command:T.toggleNavigateToCurrentDirectory,category:i.__("File Operations")})}}var $;(function(e){function t(e,t){const{model:o}=t;return e.execute("launcher:create",{cwd:o.path}).then((e=>{o.pathChanged.connect((()=>{if(e.content){e.content.cwd=o.path}}),e);return e}))}e.createLauncher=t;function o(e,t){const{defaultBrowser:o,tracker:r}=t;const n=o.model.manager.services.contents.driveName(e);if(n){const t=r.find((e=>e.model.driveName===n));if(!t){console.warn(`${T.goToPath} failed to find filebrowser for path: ${e}`);return}return t}return o}e.getBrowserForPath=o;async function r(t,o,r){const n=r.load("jupyterlab");const a=e.getBrowserForPath(t,o);if(!a){throw new Error(n.__("No browser for path"))}const{services:i}=a.model.manager;const c=i.contents.localPath(t);await i.ready;const l=await i.contents.get(t,{content:false});const{model:d}=a;await d.restored;if(l.type==="directory"){await d.cd(`/${c}`)}else{await d.cd(`/${s.PathExt.dirname(c)}`)}return l}e.navigateToPath=r;async function n(e,t,o,r){const n="jp-mod-restoring";e.addClass(n);if(!o){await e.model.restore(e.id);await e.model.refresh();e.removeClass(n);return}const a=async()=>{o.routed.disconnect(a);const i=await(r===null||r===void 0?void 0:r.paths);if((i===null||i===void 0?void 0:i.file)||(i===null||i===void 0?void 0:i.browser)){await e.model.restore(e.id,false);if(i.file){await t.execute(T.openPath,{path:i.file,dontShowBrowser:true})}if(i.browser){await t.execute(T.openPath,{path:i.browser,dontShowBrowser:true})}}else{await e.model.restore(e.id);await e.model.refresh()}e.removeClass(n)};o.routed.connect(a)}e.restoreBrowser=n})($||($={}));const q=[S,k,j,M,W,L,O,D,N];const z=q;(function(e){let t;(function(e){function t(e,t){var o;const r=e.preferredWidgetFactories(t.path).map((e=>e.name));const n=(o=e.getWidgetFactory("notebook"))===null||o===void 0?void 0:o.name;if(n&&t.type==="notebook"&&r.indexOf(n)===-1){r.unshift(n)}return r}e.getFactories=t;function o(e){const t=e.next();if(!t){return new Set}const o=new Set(t);return(0,C.reduce)(e,((e,t)=>new Set(t.filter((t=>e.has(t))))),o)}e.intersection=o})(t=e.OpenWith||(e.OpenWith={}))})($||($={}))}}]);