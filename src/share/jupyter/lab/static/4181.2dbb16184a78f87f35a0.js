(self["webpackChunk_jupyterlab_application_top"]=self["webpackChunk_jupyterlab_application_top"]||[]).push([[4181,3197],{3197:(t,e,s)=>{"use strict";s.r(e);s.d(e,{IPropertyInspectorProvider:()=>h,SideBarPropertyInspectorProvider:()=>l});var n=s(26825);var r=s(1612);var i=s(75138);var o=s(61389);var c=s(9727);const h=new c.Token("@jupyterlab/property-inspector:IPropertyInspectorProvider");class a extends o.Widget{constructor(){super();this._tracker=new o.FocusTracker;this._inspectors=new Map;this.addClass("jp-PropertyInspector");this._tracker=new o.FocusTracker;this._tracker.currentChanged.connect(this._onCurrentChanged,this)}register(t){if(this._inspectors.has(t)){throw new Error("Widget is already registered")}const e=new d.PropertyInspector(t);t.disposed.connect(this._onWidgetDisposed,this);this._inspectors.set(t,e);e.onAction.connect(this._onInspectorAction,this);this._tracker.add(t);return e}get currentWidget(){return this._tracker.currentWidget}refresh(){const t=this._tracker.currentWidget;if(!t){this.setContent(null);return}const e=this._inspectors.get(t);if(e){this.setContent(e.content)}}_onWidgetDisposed(t){const e=this._inspectors.get(t);if(e){e.dispose();this._inspectors.delete(t)}}_onInspectorAction(t,e){const s=t.owner;const n=this._tracker.currentWidget;switch(e){case"content":if(n===s){this.setContent(t.content)}break;case"dispose":if(s){this._tracker.remove(s);this._inspectors.delete(s)}break;case"show-panel":if(n===s){this.showPanel()}break;default:throw new Error("Unsupported inspector action")}}_onCurrentChanged(){const t=this._tracker.currentWidget;if(t){const e=this._inspectors.get(t);const s=e.content;this.setContent(s)}else{this.setContent(null)}}}class l extends a{constructor(t,e,s){super();this._labshell=t;this.translator=s||r.nullTranslator;this._trans=this.translator.load("jupyterlab");const n=this.layout=new o.SingletonLayout;if(e){this._placeholder=e}else{const t=document.createElement("div");const e=document.createElement("div");e.textContent=this._trans.__("No properties to inspect.");e.className="jp-PropertyInspector-placeholderContent";t.appendChild(e);this._placeholder=new o.Widget({node:t});this._placeholder.addClass("jp-PropertyInspector-placeholder")}n.widget=this._placeholder;t.currentChanged.connect(this._onShellCurrentChanged,this);this._onShellCurrentChanged()}setContent(t){const e=this.layout;if(e.widget){e.widget.removeClass("jp-PropertyInspector-content");e.removeWidget(e.widget)}if(!t){t=this._placeholder}t.addClass("jp-PropertyInspector-content");e.widget=t}showPanel(){this._labshell.activateById(this.id)}_onShellCurrentChanged(){const t=this.currentWidget;if(!t){this.setContent(null);return}const e=this._labshell.currentWidget;if(e===null||e===void 0?void 0:e.node.contains(t.node)){this.refresh()}else{this.setContent(null)}}}var d;(function(t){class e{constructor(t){this._isDisposed=false;this._content=null;this._owner=null;this._onAction=new i.Signal(this);this._owner=t}get owner(){return this._owner}get content(){return this._content}get isDisposed(){return this._isDisposed}get onAction(){return this._onAction}showPanel(){if(this._isDisposed){return}this._onAction.emit("show-panel")}render(t){if(this._isDisposed){return}if(t instanceof o.Widget){this._content=t}else{this._content=n.ReactWidget.create(t)}this._onAction.emit("content")}dispose(){if(this._isDisposed){return}this._isDisposed=true;this._content=null;this._owner=null;i.Signal.clearData(this)}}t.PropertyInspector=e})(d||(d={}))}}]);